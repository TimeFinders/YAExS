{% extends "base.html" %}

{% block js %}
    {{ block.super }}
    <script type="text/javascript">

    $(document).ready(function(){

        $(".exams").sortable({connectWith:".exams"});

        $(".noexam").sortable("option", "receive", function(event, ui){
            console.log(ui.item.attr("id") + " has no exam!");
        });

        $(".unknown").sortable("option", "receive", function(event, ui){
            console.log(ui.item.html() + " is unknown.");
        });

        $(".hasexam").sortable("option", "receive", function(event, ui){
            console.log(ui.item.html() + " has an exam :(");
        });
        $(".name").click(function(){
            $(this).siblings(".courses").slideToggle();
            return false;
        });
    });

    </script>
{% endblock js %}

{% block css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/less" href="{{STATIC_URL}}accounts/c/schedule.less" />
{% endblock css %}

{% block body %}
    Please select your department:

    {% for dept in depts %}
        <div class="dept">
            <a class="name" href="#">{{dept.code}} - {{dept.name}}</a>
            <div class="courses">
                <div class="container">
                    <span class="title">No Exam</title>
                    <ul class="noexam exams">
                        {% for course in dept.noexam %}
                            <li id="{{course.id}}">{{course.number}} - {{course.name}}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="container">
                    <span class="title">Unknown</title>
                    <ul class="unknown exams">
                        {% for course in dept.unknown %}
                            <li id="{{course.id}}">{{course.number}} - {{course.name}}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="container">
                    <span class="title">Has Exam</title>
                    <ul class="hasexam exams">
                        {% for course in dept.hasexam %}
                            <li id="{{course.id}}">{{course.number}} - {{course.name}}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock body %}
